package com.keniu.security.malware;

import android.content.Context;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageInfo;
import android.content.pm.PackageManager;
import android.database.Cursor;
import com.hoi.antivirus.AntiVirusFunc;
import com.keniu.security.d.d;
import java.io.File;
import java.util.ArrayList;

public final class q
{
  private Context a = null;

  public q(Context paramContext)
  {
    this.a = paramContext;
  }

  public final int a()
  {
    r localr = new r(this.a);
    Cursor localCursor = localr.b();
    int i = 0;
    if (localCursor != null)
    {
      boolean bool = localCursor.moveToFirst();
      i = 0;
      if (!bool);
    }
    while (true)
    {
      String str = localCursor.getString(localCursor.getColumnIndex("publicsourcedir"));
      int j = localCursor.getInt(localCursor.getColumnIndex("malwarelocation"));
      if (new File(str).exists())
        if (j == 1)
          i++;
      while (!localCursor.moveToNext())
      {
        localCursor.close();
        localr.a();
        return i;
        if (j == 2)
        {
          i++;
          continue;
          localr.b(str);
        }
      }
    }
  }

  public final boolean a(d paramd)
  {
    boolean bool = true;
    r localr = new r(this.a);
    Cursor localCursor = localr.c(paramd.q);
    if (localCursor != null)
    {
      if (localCursor.moveToFirst())
        do
          if (localCursor.getInt(localCursor.getColumnIndex("software_type")) == 5)
            bool = false;
        while (localCursor.moveToNext());
      localCursor.close();
    }
    localr.a();
    return bool;
  }

  public final ArrayList b()
  {
    Object localObject1 = null;
    ArrayList localArrayList = new ArrayList();
    r localr = new r(this.a);
    Cursor localCursor = localr.b();
    int i;
    int j;
    Object localObject2;
    if (localCursor != null)
      if (localCursor.moveToFirst())
      {
        i = localCursor.getColumnIndex("publicsourcedir");
        j = localCursor.getColumnIndex("malwarename");
        localObject2 = null;
      }
    while (true)
    {
      String str1 = localCursor.getString(i);
      String str2 = localCursor.getString(j);
      if (new File(str1).exists());
      try
      {
        PackageInfo localPackageInfo = this.a.getPackageManager().getPackageArchiveInfo(str1, 128);
        localObject1 = localPackageInfo;
        if ((localObject1 != null) && (localObject1.applicationInfo != null))
        {
          ApplicationInfo localApplicationInfo = localObject1.applicationInfo;
          if (localApplicationInfo.publicSourceDir == null)
            localApplicationInfo.publicSourceDir = str1;
          localObject3 = localApplicationInfo;
          k = 1;
          if (k != 0)
          {
            d locald = new d();
            locald.s = 6;
            locald.x = true;
            locald.t = str2;
            locald.q = new AntiVirusFunc().a(str1);
            localArrayList.add(new AppMettle((ApplicationInfo)localObject3, locald));
          }
          while (!localCursor.moveToNext())
          {
            localCursor.close();
            localr.a();
            return localArrayList;
            localr.b(str1);
          }
        }
      }
      catch (Exception localException)
      {
        Object localObject3;
        while (true)
        {
          continue;
          localObject3 = localObject2;
          int k = 0;
        }
        localObject2 = localObject3;
      }
    }
  }

  public final int c()
  {
    r localr = new r(this.a);
    Cursor localCursor = localr.c();
    int i = 0;
    if (localCursor != null)
    {
      i = localCursor.getCount();
      localCursor.close();
    }
    localr.a();
    return i;
  }
}

/* Location:           C:\Users\sandrocheng.21KUNPENG\Desktop\classes_dex2jar\
 * Qualified Name:     com.keniu.security.malware.q
 * JD-Core Version:    0.6.2
 */