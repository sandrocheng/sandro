package com.keniu.security.malware;

import android.content.pm.ApplicationInfo;
import android.os.Handler;
import android.os.Looper;
import android.os.Message;
import com.keniu.security.d.d;
import java.util.ArrayList;

final class m extends Thread
  implements bh
{
  public int a;
  public int b;
  public long c;
  public long d;
  public long e;
  public long f;
  public long g;
  public boolean h;
  private volatile n j;
  private Looper k;
  private bd l;

  m(MalwareActivity paramMalwareActivity)
  {
  }

  private void a(d paramd)
  {
    if (this.l != null)
    {
      paramd.s = 4;
      this.l.b(paramd);
    }
  }

  private void f()
  {
    this.a = 0;
    this.b = 0;
    this.h = false;
  }

  public final void a()
  {
    this.l = new bd();
    this.l.a(this.i.getApplicationContext());
  }

  public final boolean a(float paramFloat, String[] paramArrayOfString, d[] paramArrayOfd, ApplicationInfo[] paramArrayOfApplicationInfo)
  {
    while (MalwareActivity.h(this.i) == 2)
      try
      {
        Thread.sleep(50L);
      }
      catch (Exception localException)
      {
      }
    q localq = new q(this.i);
    int m = (int)(400.0F * paramFloat);
    a[] arrayOfa = new a[paramArrayOfd.length];
    int n = 0;
    if (n < paramArrayOfd.length)
    {
      d locald;
      int i1;
      label110: AppMettle localAppMettle;
      if (paramArrayOfString[n] != null)
      {
        locald = paramArrayOfd[n];
        this.b = (1 + this.b);
        if (MalwareActivity.h(this.i) == 1)
        {
          if (MalwareActivity.b(this.i) != 3)
            break label340;
          i1 = 0;
          if (i1 < MalwareActivity.i(this.i).size())
          {
            localAppMettle = (AppMettle)MalwareActivity.i(this.i).get(i1);
            if (!paramArrayOfString[n].equals(localAppMettle.a.publicSourceDir))
              break label334;
            if (locald != null)
            {
              if (!localAppMettle.b.b())
                break label276;
              if (!locald.b())
                MalwareActivity.j(this.i).remove(localAppMettle);
            }
            label197: if (paramArrayOfApplicationInfo[n] == null)
              paramArrayOfApplicationInfo[n] = localAppMettle.a;
          }
          label215: arrayOfa[n] = new a();
          if (paramArrayOfApplicationInfo[n] != null)
            arrayOfa[n].a(paramArrayOfApplicationInfo[n]);
          if (locald != null)
          {
            if (!locald.c())
              break label501;
            arrayOfa[n].a(2);
          }
        }
      }
      while (true)
      {
        n++;
        break;
        label276: locald.w = true;
        localAppMettle.b = locald;
        if (locald.b())
          MalwareActivity.j(this.i).add(localAppMettle);
        if (locald.c())
          break label197;
        MalwareActivity.i(this.i).remove(i1);
        break label197;
        label334: i1++;
        break label110;
        label340: if ((paramArrayOfApplicationInfo[n] == null) || (paramArrayOfApplicationInfo[n].packageName.equals("com.ijinshan.mguard")))
          break label215;
        this.a = (1 + this.a);
        if ((locald != null) && (locald.c()))
        {
          if (!localq.a(locald))
            break label215;
          MalwareActivity.i(this.i).add(new AppMettle(paramArrayOfApplicationInfo[n], locald));
          break label215;
        }
        if ((locald == null) || (!locald.b()))
          break label215;
        if (localq.a(locald))
          MalwareActivity.i(this.i).add(new AppMettle(paramArrayOfApplicationInfo[n], locald));
        MalwareActivity.j(this.i).add(new AppMettle(paramArrayOfApplicationInfo[n], locald));
        break label215;
        label501: if (locald.a())
          arrayOfa[n].a(0);
        else if (locald.b())
          arrayOfa[n].a(1);
      }
    }
    Message localMessage = MalwareActivity.k(this.i).obtainMessage(2, m, 0, arrayOfa);
    MalwareActivity.k(this.i).sendMessage(localMessage);
    if (MalwareActivity.h(this.i) != 3);
    for (boolean bool = true; ; bool = false)
      return bool;
  }

  public final void b()
  {
    while (this.j == null)
      try
      {
        Thread.sleep(10L);
      }
      catch (InterruptedException localInterruptedException)
      {
        localInterruptedException.printStackTrace();
      }
    MalwareActivity.a(this.i, 1);
    MalwareActivity.b(this.i, 1);
    this.j.sendEmptyMessage(1);
  }

  public final void c()
  {
    while (this.j == null)
      try
      {
        Thread.sleep(10L);
      }
      catch (InterruptedException localInterruptedException)
      {
        localInterruptedException.printStackTrace();
      }
    MalwareActivity.b(this.i, 2);
    MalwareActivity.a(this.i, 1);
    this.j.sendEmptyMessage(2);
  }

  public final void d()
  {
    while (this.j == null)
      try
      {
        Thread.sleep(10L);
      }
      catch (InterruptedException localInterruptedException)
      {
        localInterruptedException.printStackTrace();
      }
    MalwareActivity.a(this.i, 1);
    MalwareActivity.b(this.i, 3);
    this.j.sendEmptyMessage(3);
  }

  public final void e()
  {
    if (this.k != null)
      this.k.quit();
    try
    {
      join();
      return;
    }
    catch (InterruptedException localInterruptedException)
    {
      while (true)
        localInterruptedException.printStackTrace();
    }
  }

  public final void run()
  {
    Looper.prepare();
    this.k = Looper.myLooper();
    this.j = new n(this);
    setPriority(1);
    Looper.loop();
    this.l.a();
    this.l = null;
  }
}

/* Location:           C:\Users\sandrocheng.21KUNPENG\Desktop\classes_dex2jar\
 * Qualified Name:     com.keniu.security.malware.m
 * JD-Core Version:    0.6.2
 */