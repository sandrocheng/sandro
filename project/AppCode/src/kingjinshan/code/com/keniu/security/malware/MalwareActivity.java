package com.keniu.security.malware;

import android.content.Intent;
import android.content.pm.ApplicationInfo;
import android.os.Bundle;
import android.os.Handler;
import android.os.Message;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.ListView;
import android.widget.ProgressBar;
import android.widget.TextView;
import com.jxphone.mosecurity.activity.BaseActivity;
import com.keniu.security.commumgr.FileWatcherSetting;
import com.keniu.security.d.d;
import com.keniu.security.util.ap;
import com.keniu.security.util.aq;
import com.keniu.security.util.at;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Date;

public class MalwareActivity extends BaseActivity
  implements View.OnClickListener
{
  public static final int b = 10;
  public static final String c = "ScanResultListActivity_result_trojan";
  public static final String d = "ScanResultListActivity_result_unknown";
  public static final String e = "MalwareActivityScanMode";
  public static final int f = 0;
  public static final int g = 1;
  private static final String j = "fast";
  private static final String k = "deep";
  private static final String l = "";
  private static final int m = 400;
  private static final int n = 50;
  private static final int o = 2;
  private static final int p = 1;
  private static final int q = 2;
  private static final int r = 3;
  private static final int s = 0;
  private static final int t = 1;
  private static final int u = 2;
  private static final int v = 3;
  private int A;
  private int B;
  private m C;
  private com.keniu.security.a D;
  private String E;
  private volatile boolean F = false;
  private volatile boolean G = false;
  private volatile boolean H = false;
  private volatile boolean I = false;
  private volatile boolean J = false;
  private volatile boolean K = false;
  private volatile boolean L = false;
  private TextView M;
  private TextView N;
  private TextView O;
  private ListView P;
  private ScanApkView Q;
  private ProgressBar R;
  private Button S;
  private Button T;
  private Button U;
  private ArrayList V;
  private al W;
  private Handler X = new l(this);
  public boolean h = true;
  public boolean i = false;
  private ArrayList w;
  private ArrayList x;
  private volatile int y;
  private volatile int z;

  private void a(int paramInt)
  {
    int i1;
    switch (this.z)
    {
    default:
      i1 = 0;
    case 1:
    case 2:
    case 3:
    }
    while (true)
    {
      aq localaq = new aq(this, (byte)0);
      localaq.b(i1);
      localaq.a(2131428509);
      localaq.a(2131427864, new e(this));
      localaq.b(2131427866, new f(this, paramInt));
      localaq.c().show();
      return;
      i1 = 2131428510;
      continue;
      i1 = 2131428511;
      continue;
      i1 = 2131428512;
    }
  }

  private void a(Message paramMessage)
  {
    int i1;
    label34: int i6;
    label160: label166: int i4;
    label190: a locala;
    switch (this.z)
    {
    default:
      i1 = 0;
      int i2 = paramMessage.arg1;
      if (this.y == 1)
      {
        this.N.setText(i1);
        this.R.setProgress(i2);
        if (!this.Q.d())
          this.Q.c();
      }
      if (this.z != 3)
        if (this.w.size() == 0)
        {
          TextView localTextView3 = this.O;
          Object[] arrayOfObject3 = new Object[1];
          arrayOfObject3[0] = Integer.valueOf(this.C.a);
          localTextView3.setText(getString(2131428513, arrayOfObject3));
          if (this.C.a > this.A)
          {
            i6 = this.C.a;
            this.A = i6;
            if (paramMessage.obj == null)
              return;
            a[] arrayOfa = (a[])paramMessage.obj;
            int i3 = arrayOfa.length;
            i4 = 0;
            if (i4 >= i3)
              return;
            locala = arrayOfa[i4];
            if (locala != null)
            {
              if (this.z != 1)
                break label484;
              this.h = true;
            }
          }
        }
      break;
    case 1:
    case 2:
    case 3:
    }
    while (true)
    {
      label222: this.V.add(0, locala);
      this.W.notifyDataSetChanged();
      label484: label508: 
      do
      {
        do
        {
          i4++;
          break label190;
          i1 = 2131428501;
          break label34;
          i1 = 2131428503;
          break label34;
          if (this.I)
          {
            i1 = 2131428506;
            break label34;
          }
          if (!this.J)
            break;
          i1 = 2131428507;
          break label34;
          i6 = this.A;
          break label160;
          TextView localTextView2 = this.O;
          Object[] arrayOfObject2 = new Object[2];
          arrayOfObject2[0] = Integer.valueOf(this.C.a);
          arrayOfObject2[1] = Integer.valueOf(this.w.size());
          localTextView2.setText(getString(2131428517, arrayOfObject2));
          if (this.C.a > this.A);
          for (int i5 = this.C.a; ; i5 = this.A)
          {
            this.A = i5;
            break;
          }
          if (this.w.size() > 0)
          {
            TextView localTextView1 = this.O;
            Object[] arrayOfObject1 = new Object[1];
            arrayOfObject1[0] = Integer.valueOf(this.w.size());
            localTextView1.setText(getString(2131428518, arrayOfObject1));
            break label166;
          }
          if (this.I)
          {
            this.O.setText(getString(2131428515));
            break label166;
          }
          if (!this.J)
            break label166;
          this.O.setText(getString(2131428516));
          break label166;
          if (this.z != 2)
            break label508;
          this.h = true;
        }
        while (locala.a() == null);
        break label222;
      }
      while (this.z != 3);
      if (this.h)
      {
        this.i = true;
        this.h = false;
        this.V.clear();
      }
    }
  }

  private void h()
  {
    this.V = new ArrayList();
    this.w = new ArrayList();
    this.x = new ArrayList();
    this.B = getIntent().getIntExtra("MalwareActivityScanMode", 0);
    this.C = new m(this);
    this.C.a();
    this.D = com.keniu.security.a.a(this);
    this.E = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date());
  }

  private void i()
  {
    this.M = ((TextView)findViewById(2131231105));
    this.Q = ((ScanApkView)findViewById(2131231164));
    this.N = ((TextView)findViewById(2131231167));
    this.R = ((ProgressBar)findViewById(2131231168));
    this.O = ((TextView)findViewById(2131231171));
    this.P = ((ListView)findViewById(2131231173));
    this.S = ((Button)findViewById(2131231106));
    this.T = ((Button)findViewById(2131231176));
    this.U = ((Button)findViewById(2131231177));
    this.S.setOnClickListener(this);
    this.T.setOnClickListener(this);
    this.U.setOnClickListener(this);
  }

  private void j()
  {
    this.Q.a();
    this.R.setProgress(0);
    this.R.setMax(400);
    this.W = new al(this, this.V);
    this.P.setAdapter(this.W);
    this.O.setText("");
    if (this.z == 2)
    {
      this.M.setText(2131428583);
      this.N.setText(2131428503);
    }
    while (true)
    {
      return;
      if (this.z == 1)
      {
        this.M.setText(2131428583);
        this.N.setText(2131428501);
      }
      else if (this.z == 3)
      {
        this.M.setText(2131428583);
        this.N.setText(2131428506);
      }
      else
      {
        this.M.setText(2131428583);
        this.N.setText("");
      }
    }
  }

  private void k()
  {
    this.D.U();
    Date localDate = new Date();
    String str = new SimpleDateFormat("yyyy-MM-dd").format(localDate);
    this.D.e(str);
    this.C.start();
    switch (this.B)
    {
    default:
    case 0:
    case 1:
    }
    while (true)
    {
      return;
      this.I = true;
      this.C.b();
      continue;
      this.J = true;
      this.C.c();
    }
  }

  private void l()
  {
    if (this.y == 1)
    {
      this.y = 2;
      if (this.z != 3)
        break label49;
      this.N.setText(2131428508);
    }
    while (true)
    {
      this.Q.b();
      this.T.setText(2131427877);
      return;
      label49: if (this.z == 1)
        this.N.setText(2131428502);
      else if (this.z == 2)
        this.N.setText(2131428504);
    }
  }

  private void m()
  {
    if (this.y == 1)
      if (this.z == 3)
      {
        this.N.setText(2131428508);
        this.Q.b();
        a(this.y);
        this.y = 2;
      }
    while (true)
    {
      return;
      if (this.z == 1)
      {
        this.N.setText(2131428502);
        break;
      }
      if (this.z != 2)
        break;
      this.N.setText(2131428504);
      break;
      if (this.y == 2)
        a(this.y);
    }
  }

  private void n()
  {
    p();
    this.H = true;
    if (!at.c(this))
    {
      aq localaq1 = new aq(this, (byte)0);
      localaq1.a(2131427943);
      localaq1.b(2131427944);
      localaq1.a(false);
      localaq1.a(2131427945, new h(this));
      localaq1.b(2131427947, new i(this));
      localaq1.c();
      localaq1.d();
    }
    while (true)
    {
      return;
      if (at.b(this))
      {
        f();
      }
      else if (this.D.aI())
      {
        f();
      }
      else
      {
        com.jxphone.mosecurity.a.a.b(this, "virkill_interface_click", "auto_cloud_pop");
        aq localaq2 = new aq(this, (byte)0);
        localaq2.a(2131427519);
        View localView = LayoutInflater.from(this).inflate(2130903097, null);
        CheckBox localCheckBox = (CheckBox)localView.findViewById(2131231005);
        localCheckBox.setChecked(false);
        localCheckBox.setText(2131428520);
        ((TextView)localView.findViewById(2131231003)).setText(2131428519);
        localaq2.a(localView);
        localaq2.b(2131427881, new j(this, localCheckBox));
        localaq2.a(2131427880, new k(this, localCheckBox));
        localaq2.c().show();
      }
    }
  }

  private void o()
  {
    aq localaq = new aq(this, (byte)0);
    localaq.a(2131427519);
    View localView = LayoutInflater.from(this).inflate(2130903097, null);
    CheckBox localCheckBox = (CheckBox)localView.findViewById(2131231005);
    localCheckBox.setChecked(false);
    localCheckBox.setText(2131428520);
    ((TextView)localView.findViewById(2131231003)).setText(2131428519);
    localaq.a(localView);
    localaq.b(2131427881, new j(this, localCheckBox));
    localaq.a(2131427880, new k(this, localCheckBox));
    localaq.c().show();
  }

  private void p()
  {
    long l1;
    if (this.z == 1)
      l1 = this.C.c;
    while (true)
    {
      if (this.F)
        if (this.I)
          com.jxphone.mosecurity.a.a.a(this, this.z, this.F, "fast", l1);
      while (true)
      {
        return;
        if (this.z == 2)
        {
          l1 = this.C.d;
          break;
        }
        if (this.z != 3)
          break label159;
        l1 = this.C.e;
        break;
        if (this.J)
        {
          com.jxphone.mosecurity.a.a.a(this, this.z, this.F, "deep", l1);
          continue;
          if (this.I)
            com.jxphone.mosecurity.a.a.a(this, this.z, this.F, "fast", l1);
          else if (this.J)
            com.jxphone.mosecurity.a.a.a(this, this.z, this.F, "deep", l1);
        }
      }
      label159: l1 = 0L;
    }
  }

  private void q()
  {
    r localr = new r(this);
    int i1 = this.w.size();
    int i2 = 0;
    Object localObject = "";
    if (i2 < i1)
    {
      AppMettle localAppMettle = (AppMettle)this.w.get(i2);
      ApplicationInfo localApplicationInfo = localAppMettle.a;
      if (i2 != i1 - 1);
      for (String str = (String)localObject + localApplicationInfo.packageName + ">" + localApplicationInfo.publicSourceDir + ">" + localAppMettle.b.t + ">" + localAppMettle.b.q + ":"; ; str = (String)localObject + localApplicationInfo.packageName + ">" + localApplicationInfo.publicSourceDir + ">" + localAppMettle.b.t + ">" + localAppMettle.b.q)
      {
        i2++;
        localObject = str;
        break;
      }
    }
    if (this.G)
    {
      if (this.I)
        localr.a(this.E, "快速查杀完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
      if (this.J)
        localr.a(this.E, "深度查杀完成 ", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
    }
    while (true)
    {
      localr.a();
      return;
      if (this.H)
      {
        if (this.I)
          localr.a(this.E, "快速查杀完成，云查杀未完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
        if (this.J)
          localr.a(this.E, "深度查杀完成，云查杀未完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
      }
      else
      {
        if (this.I)
          localr.a(this.E, "快速查杀未完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
        if (this.J)
          localr.a(this.E, "深度查杀未完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
      }
    }
  }

  public final void a(boolean paramBoolean, int paramInt)
  {
    runOnUiThread(new g(this, paramBoolean, paramInt));
  }

  public final void e()
  {
    if (this.y == 2)
    {
      this.y = 1;
      this.T.setText(2131427875);
      this.Q.c();
      if (this.z == 3)
      {
        if (!this.i)
          break label78;
        if (this.I)
          this.N.setText(2131428506);
        if (this.J)
          this.N.setText(2131428507);
      }
    }
    while (true)
    {
      return;
      label78: this.N.setText(2131428505);
    }
  }

  final void f()
  {
    this.N.setText(2131428505);
    this.O.setText(2131428514);
    this.C.d();
  }

  final void g()
  {
    setResult(10);
    p();
    Intent localIntent = getIntent();
    localIntent.setClass(this, ScanResultListActivity.class);
    localIntent.putParcelableArrayListExtra("ScanResultListActivity_result_trojan", this.w);
    localIntent.putParcelableArrayListExtra("ScanResultListActivity_result_unknown", this.x);
    Bundle localBundle = new Bundle();
    if (this.I)
      localBundle.putLong("mScanUsedTime", this.C.c + this.C.e);
    while (true)
    {
      localBundle.putString("mScanTime", this.E);
      localBundle.putInt("mScanApkCount", this.C.a);
      localBundle.putBoolean("bClickFast", this.I);
      localBundle.putBoolean("bClickDeep", this.J);
      localBundle.putBoolean("bSettingNet", this.L);
      localBundle.putBoolean("bScanFromMainMenu", false);
      localBundle.putBoolean("bCloudScanComplete", this.G);
      localIntent.putExtras(localBundle);
      startActivity(localIntent);
      finish();
      return;
      if (this.J)
        localBundle.putLong("mScanUsedTime", this.C.d + this.C.e);
    }
  }

  public void onClick(View paramView)
  {
    switch (paramView.getId())
    {
    default:
    case 2131231106:
    case 2131231176:
    case 2131231177:
    }
    while (true)
    {
      return;
      Intent localIntent = getIntent();
      localIntent.setClass(this, FileWatcherSetting.class);
      startActivity(localIntent);
      continue;
      if (this.y == 1)
      {
        if (this.y == 1)
        {
          this.y = 2;
          if (this.z == 3)
            this.N.setText(2131428508);
          while (true)
          {
            this.Q.b();
            this.T.setText(2131427877);
            break;
            if (this.z == 1)
              this.N.setText(2131428502);
            else if (this.z == 2)
              this.N.setText(2131428504);
          }
        }
      }
      else if (this.y == 2)
      {
        e();
        continue;
        if (this.y == 1)
        {
          if (this.z == 3)
            this.N.setText(2131428508);
          while (true)
          {
            this.Q.b();
            a(this.y);
            this.y = 2;
            break;
            if (this.z == 1)
              this.N.setText(2131428502);
            else if (this.z == 2)
              this.N.setText(2131428504);
          }
        }
        if (this.y == 2)
          a(this.y);
      }
    }
  }

  public void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    setRequestedOrientation(1);
    requestWindowFeature(1);
    setContentView(2130903144);
    this.V = new ArrayList();
    this.w = new ArrayList();
    this.x = new ArrayList();
    this.B = getIntent().getIntExtra("MalwareActivityScanMode", 0);
    this.C = new m(this);
    this.C.a();
    this.D = com.keniu.security.a.a(this);
    this.E = new SimpleDateFormat("yyyy-MM-dd HH:mm:ss").format(new Date());
    this.M = ((TextView)findViewById(2131231105));
    this.Q = ((ScanApkView)findViewById(2131231164));
    this.N = ((TextView)findViewById(2131231167));
    this.R = ((ProgressBar)findViewById(2131231168));
    this.O = ((TextView)findViewById(2131231171));
    this.P = ((ListView)findViewById(2131231173));
    this.S = ((Button)findViewById(2131231106));
    this.T = ((Button)findViewById(2131231176));
    this.U = ((Button)findViewById(2131231177));
    this.S.setOnClickListener(this);
    this.T.setOnClickListener(this);
    this.U.setOnClickListener(this);
    this.Q.a();
    this.R.setProgress(0);
    this.R.setMax(400);
    this.W = new al(this, this.V);
    this.P.setAdapter(this.W);
    this.O.setText("");
    if (this.z == 2)
    {
      this.M.setText(2131428583);
      this.N.setText(2131428503);
      this.D.U();
      Date localDate = new Date();
      String str = new SimpleDateFormat("yyyy-MM-dd").format(localDate);
      this.D.e(str);
      this.C.start();
      switch (this.B)
      {
      default:
      case 0:
      case 1:
      }
    }
    while (true)
    {
      return;
      if (this.z == 1)
      {
        this.M.setText(2131428583);
        this.N.setText(2131428501);
        break;
      }
      if (this.z == 3)
      {
        this.M.setText(2131428583);
        this.N.setText(2131428506);
        break;
      }
      this.M.setText(2131428583);
      this.N.setText("");
      break;
      this.I = true;
      this.C.b();
      continue;
      this.J = true;
      this.C.c();
    }
  }

  protected void onDestroy()
  {
    super.onDestroy();
    this.K = true;
    this.y = 3;
    if (this.C != null)
      this.C.e();
    this.Q.b();
    r localr = new r(this);
    int i1 = this.w.size();
    int i2 = 0;
    Object localObject = "";
    if (i2 < i1)
    {
      AppMettle localAppMettle = (AppMettle)this.w.get(i2);
      ApplicationInfo localApplicationInfo = localAppMettle.a;
      if (i2 != i1 - 1);
      for (String str = (String)localObject + localApplicationInfo.packageName + ">" + localApplicationInfo.publicSourceDir + ">" + localAppMettle.b.t + ">" + localAppMettle.b.q + ":"; ; str = (String)localObject + localApplicationInfo.packageName + ">" + localApplicationInfo.publicSourceDir + ">" + localAppMettle.b.t + ">" + localAppMettle.b.q)
      {
        i2++;
        localObject = str;
        break;
      }
    }
    if (this.G)
    {
      if (this.I)
        localr.a(this.E, "快速查杀完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
      if (this.J)
        localr.a(this.E, "深度查杀完成 ", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
    }
    while (true)
    {
      localr.a();
      return;
      if (this.H)
      {
        if (this.I)
          localr.a(this.E, "快速查杀完成，云查杀未完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
        if (this.J)
          localr.a(this.E, "深度查杀完成，云查杀未完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
      }
      else
      {
        if (this.I)
          localr.a(this.E, "快速查杀未完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
        if (this.J)
          localr.a(this.E, "深度查杀未完成", String.valueOf(this.C.a), "0", String.valueOf(this.w.size()), "0", (String)localObject, "", "");
      }
    }
  }
}

/* Location:           C:\Users\sandrocheng.21KUNPENG\Desktop\classes_dex2jar\
 * Qualified Name:     com.keniu.security.malware.MalwareActivity
 * JD-Core Version:    0.6.2
 */