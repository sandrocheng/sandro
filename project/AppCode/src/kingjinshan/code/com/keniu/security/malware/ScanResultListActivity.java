package com.keniu.security.malware;

import android.app.Dialog;
import android.app.ListActivity;
import android.content.Context;
import android.content.Intent;
import android.content.IntentFilter;
import android.content.pm.ApplicationInfo;
import android.content.pm.PackageManager;
import android.content.pm.PackageManager.NameNotFoundException;
import android.content.res.Resources;
import android.net.Uri;
import android.os.Build.VERSION;
import android.os.Bundle;
import android.text.SpannableString;
import android.text.method.LinkMovementMethod;
import android.text.style.ForegroundColorSpan;
import android.view.KeyEvent;
import android.view.LayoutInflater;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.Button;
import android.widget.CheckBox;
import android.widget.ImageView;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
import com.keniu.security.commumgr.FileWatcherSetting;
import com.keniu.security.d.d;
import com.keniu.security.monitor.b;
import com.keniu.security.util.af;
import com.keniu.security.util.ap;
import com.keniu.security.util.aq;
import com.keniu.security.util.at;
import java.io.File;
import java.util.ArrayList;
import java.util.HashMap;
import java.util.Iterator;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class ScanResultListActivity extends ListActivity
  implements View.OnClickListener, AdapterView.OnItemClickListener, b
{
  public static final int a = 0;
  public static final int b = 1;
  public static final int c = 2;
  public static final int d = 3;
  public static final int e = 1;
  public static final int f = 2;
  public static final int g = 3;
  public static final int h = 4;
  public static final int i = 0;
  public static final int j = 1;
  public static final int k = 10;
  private int A;
  private int B;
  private com.keniu.security.a C;
  private boolean D = false;
  private boolean E = false;
  private boolean F = false;
  private boolean G = false;
  private boolean H = false;
  private boolean I = false;
  private boolean J = false;
  private boolean K = false;
  private boolean L = false;
  private boolean M = false;
  private boolean N = false;
  private boolean O = false;
  private boolean P = false;
  private boolean Q = false;
  private boolean R = false;
  private boolean S = false;
  private boolean T = false;
  private Button U;
  private Button V;
  private Button W;
  private Button X;
  private TextView Y;
  private TextView Z;
  private TextView aa;
  private TextView ab;
  private TextView ac;
  private ImageView ad;
  private boolean ae = bz.a().e();
  com.keniu.security.monitor.a l;
  bv m;
  private ArrayList n;
  private ArrayList o;
  private ArrayList p;
  private ArrayList q;
  private HashMap r;
  private bu s;
  private bx t;
  private long u;
  private String v;
  private int w;
  private int x;
  private int y;
  private int z;

  private void a(int paramInt)
  {
    this.K = this.ae;
    this.x = 0;
    AppMettle localAppMettle = (AppMettle)this.n.get(paramInt);
    ApplicationInfo localApplicationInfo = localAppMettle.a;
    if (c(localApplicationInfo.publicSourceDir));
    while (true)
    {
      try
      {
        File localFile = new File(localApplicationInfo.publicSourceDir);
        if (localFile.exists())
        {
          if (!localFile.delete())
            continue;
          Toast.makeText(this, 2131428544, 0).show();
          ((bu)this.r.get(localAppMettle)).e = 1;
          bu localbu5 = (bu)this.r.get(localAppMettle);
          if (this.K)
          {
            i5 = 1;
            localbu5.c = i5;
            this.n.remove(paramInt);
          }
        }
        else
        {
          if (this.x == 0)
            j();
          return;
        }
        int i5 = 0;
        continue;
        b(0);
        ((bu)this.r.get(localAppMettle)).e = 0;
        bu localbu4 = (bu)this.r.get(localAppMettle);
        if (this.K)
        {
          i4 = 1;
          localbu4.c = i4;
          continue;
        }
      }
      catch (Exception localException)
      {
        continue;
        int i4 = 0;
        continue;
      }
      if (this.J)
      {
        if (this.K)
        {
          if (a(localAppMettle))
          {
            bz.a().f();
            bz.a().b(localApplicationInfo.publicSourceDir);
            bz.a().a(localApplicationInfo.packageName);
            Toast.makeText(this, 2131428544, 0).show();
            this.n.remove(paramInt);
            ((bu)this.r.get(localAppMettle)).e = 1;
            bu localbu3 = (bu)this.r.get(localAppMettle);
            if (this.K);
            for (int i3 = 1; ; i3 = 0)
            {
              localbu3.c = i3;
              break;
            }
          }
          Intent localIntent3 = new Intent("android.intent.action.DELETE");
          localIntent3.setData(Uri.parse("package:" + localApplicationInfo.packageName));
          startActivityForResult(localIntent3, 0);
          this.x = (1 + this.x);
        }
        else
        {
          if (localAppMettle.c())
          {
            ((bu)this.r.get(localAppMettle)).e = 0;
            bu localbu2 = (bu)this.r.get(localAppMettle);
            if (this.K);
            for (int i2 = 1; ; i2 = 0)
            {
              localbu2.c = i2;
              b(0);
              break;
            }
          }
          Intent localIntent2 = new Intent("android.intent.action.DELETE");
          localIntent2.setData(Uri.parse("package:" + localApplicationInfo.packageName));
          startActivityForResult(localIntent2, 0);
          this.x = (1 + this.x);
        }
      }
      else
      {
        if (localAppMettle.c())
        {
          ((bu)this.r.get(localAppMettle)).e = 0;
          bu localbu1 = (bu)this.r.get(localAppMettle);
          if (this.K);
          for (int i1 = 1; ; i1 = 0)
          {
            localbu1.c = i1;
            this.L = true;
            b(1);
            break;
          }
        }
        Intent localIntent1 = new Intent("android.intent.action.DELETE");
        localIntent1.setData(Uri.parse("package:" + localApplicationInfo.packageName));
        startActivityForResult(localIntent1, 0);
        this.x = (1 + this.x);
      }
    }
  }

  private void a(int paramInt1, int paramInt2, boolean paramBoolean1, boolean paramBoolean2)
  {
    switch (paramInt1)
    {
    default:
      switch (paramInt2)
      {
      default:
        label68: if (paramBoolean1)
        {
          this.ab.setVisibility(8);
          this.ab.setText(getString(2131428538));
          this.U.setVisibility(8);
          label104: if (!paramBoolean2)
            break label1642;
          this.V.setVisibility(0);
          this.ac.setVisibility(0);
          this.ac.setText(getString(2131428539));
        }
        break;
      case 0:
      case 1:
      case 2:
      case 3:
      case 4:
      }
      break;
    case 0:
    case 1:
    case 2:
    case 3:
    }
    while (true)
    {
      return;
      this.Z.setVisibility(8);
      break;
      this.Z.setVisibility(0);
      if (this.R)
      {
        TextView localTextView11 = this.Z;
        y localy6 = new y(this, this.q);
        int i4 = this.w;
        long l2 = this.u;
        Context localContext3 = localy6.a;
        Object[] arrayOfObject8 = new Object[2];
        arrayOfObject8[0] = Integer.valueOf(i4);
        arrayOfObject8[1] = Long.valueOf(l2);
        localy6.b = new SpannableString(localContext3.getString(2131428533, arrayOfObject8));
        localy6.e = new ae(localy6);
        localy6.b.setSpan(localy6.e, 19, 21, 17);
        localy6.b.setSpan(new ForegroundColorSpan(localy6.a.getResources().getColor(2131296283)), 19, 21, 17);
        localTextView11.setText(localy6.b);
        this.Z.setMovementMethod(LinkMovementMethod.getInstance());
        break;
      }
      TextView localTextView10 = this.Z;
      Object[] arrayOfObject7 = new Object[2];
      arrayOfObject7[0] = Integer.valueOf(this.w);
      arrayOfObject7[1] = Long.valueOf(this.u);
      localTextView10.setText(getString(2131428530, arrayOfObject7));
      break;
      this.Z.setVisibility(0);
      if ((this.D) || (this.E))
      {
        TextView localTextView8 = this.Z;
        y localy4 = new y(this);
        int i1 = this.y;
        int i2 = this.w;
        long l1 = this.u;
        Context localContext1 = localy4.a;
        Object[] arrayOfObject5 = new Object[3];
        arrayOfObject5[0] = Integer.valueOf(i1);
        arrayOfObject5[1] = Integer.valueOf(i2);
        arrayOfObject5[2] = Long.valueOf(l1);
        localy4.b = new SpannableString(localContext1.getString(2131428531, arrayOfObject5));
        localy4.f = new ac(localy4);
        localy4.b.setSpan(localy4.f, 6, 7 + String.valueOf(i1).length(), 17);
        localy4.b.setSpan(new ForegroundColorSpan(localy4.a.getResources().getColor(2131296278)), 6, 7 + String.valueOf(i1).length(), 17);
        localTextView8.setText(localy4.b);
        break;
      }
      TextView localTextView9 = this.Z;
      y localy5 = new y(this);
      int i3 = this.y;
      Context localContext2 = localy5.a;
      Object[] arrayOfObject6 = new Object[1];
      arrayOfObject6[0] = Integer.valueOf(i3);
      localy5.b = new SpannableString(localContext2.getString(2131428532, arrayOfObject6));
      localy5.f = new ac(localy5);
      localy5.b.setSpan(localy5.f, 6, 7 + String.valueOf(i3).length(), 17);
      localy5.b.setSpan(new ForegroundColorSpan(localy5.a.getResources().getColor(2131296278)), 6, 7 + String.valueOf(i3).length(), 17);
      localTextView9.setText(localy5.b);
      break;
      this.Z.setVisibility(0);
      if ((this.P) && (this.O))
      {
        TextView localTextView7 = this.Z;
        Object[] arrayOfObject4 = new Object[3];
        arrayOfObject4[0] = Integer.valueOf(this.y);
        arrayOfObject4[1] = Integer.valueOf(this.B);
        arrayOfObject4[2] = Integer.valueOf(this.y - this.n.size() - this.B);
        localTextView7.setText(getString(2131428550, arrayOfObject4));
        break;
      }
      if ((this.N) && (this.O))
      {
        TextView localTextView6 = this.Z;
        Object[] arrayOfObject3 = new Object[3];
        arrayOfObject3[0] = Integer.valueOf(this.y);
        arrayOfObject3[1] = Integer.valueOf(this.B);
        arrayOfObject3[2] = Integer.valueOf(this.y - this.n.size() - this.B);
        localTextView6.setText(getString(2131428550, arrayOfObject3));
        break;
      }
      if ((!this.P) && (!this.N) && (this.O))
      {
        TextView localTextView5 = this.Z;
        Object[] arrayOfObject2 = new Object[2];
        arrayOfObject2[0] = Integer.valueOf(this.y);
        arrayOfObject2[1] = Integer.valueOf(this.B);
        localTextView5.setText(getString(2131428545, arrayOfObject2));
        break;
      }
      TextView localTextView1 = this.Z;
      Object[] arrayOfObject1 = new Object[2];
      arrayOfObject1[0] = Integer.valueOf(this.y);
      arrayOfObject1[1] = Integer.valueOf(this.y - this.n.size());
      localTextView1.setText(getString(2131428546, arrayOfObject1));
      break;
      this.aa.setVisibility(8);
      break label68;
      this.aa.setVisibility(0);
      TextView localTextView4 = this.aa;
      y localy3 = new y(this);
      localy3.b = new SpannableString(localy3.a.getString(2131428537));
      localy3.g = new ab(localy3);
      localy3.b.setSpan(localy3.g, 37, 39, 17);
      localy3.b.setSpan(new ForegroundColorSpan(localy3.a.getResources().getColor(2131296283)), 37, 39, 17);
      localTextView4.setText(localy3.b);
      this.aa.setMovementMethod(LinkMovementMethod.getInstance());
      break label68;
      this.aa.setVisibility(0);
      this.aa.setTextColor(getResources().getColor(2131296256));
      if (this.B == 0)
      {
        this.aa.setText(getString(2131428551));
        break label68;
      }
      this.aa.setText(getString(2131428552));
      break label68;
      this.aa.setVisibility(0);
      this.aa.setTextColor(getResources().getColor(2131296343));
      TextView localTextView3 = this.aa;
      y localy2 = new y(this);
      localy2.b = new SpannableString(localy2.a.getString(2131428555));
      localy2.h = new aa(localy2, true);
      localy2.b.setSpan(localy2.h, 21, 25, 17);
      localy2.b.setSpan(new ForegroundColorSpan(localy2.a.getResources().getColor(2131296283)), 21, 25, 17);
      localTextView3.setText(localy2.b);
      this.aa.setMovementMethod(LinkMovementMethod.getInstance());
      break label68;
      this.aa.setVisibility(0);
      this.aa.setTextColor(getResources().getColor(2131296343));
      TextView localTextView2 = this.aa;
      y localy1 = new y(this);
      localy1.b = new SpannableString(localy1.a.getString(2131428556));
      localy1.h = new aa(localy1, false);
      localy1.b.setSpan(localy1.h, 22, 26, 17);
      localy1.b.setSpan(new ForegroundColorSpan(localy1.a.getResources().getColor(2131296283)), 22, 26, 17);
      localTextView2.setText(localy1.b);
      this.aa.setMovementMethod(LinkMovementMethod.getInstance());
      break label68;
      this.ab.setVisibility(8);
      this.U.setVisibility(8);
      break label104;
      label1642: this.V.setVisibility(8);
      this.ac.setVisibility(8);
    }
  }

  private void a(Bundle paramBundle)
  {
    if (paramBundle == null)
    {
      com.jxphone.mosecurity.a.a.b(this, "virkill_interface_click", "res_show");
      com.jxphone.mosecurity.a.a.a(this, 0, this.y - this.z);
      com.jxphone.mosecurity.a.a.a(this, 1, this.z);
      com.jxphone.mosecurity.a.a.a(this, 2, this.y);
    }
  }

  private void a(boolean paramBoolean)
  {
    if (this.S)
    {
      if (!paramBoolean)
        break label23;
      Toast.makeText(this, 2131428584, 1).show();
    }
    while (true)
    {
      return;
      label23: Toast.makeText(this, 2131428585, 1).show();
    }
  }

  private static boolean a(AppMettle paramAppMettle)
  {
    if ((paramAppMettle.c()) || (!Build.VERSION.RELEASE.startsWith("4")));
    for (boolean bool = true; ; bool = false)
      return bool;
  }

  private void b()
  {
    bz.a();
    this.J = bz.b();
    this.n = getIntent().getParcelableArrayListExtra("ScanResultListActivity_result_trojan");
    if (this.n == null)
      this.n = new ArrayList();
    this.o = new ArrayList();
    for (int i1 = 0; i1 < this.n.size(); i1++)
      this.o.add(this.n.get(i1));
    this.p = getIntent().getParcelableArrayListExtra("ScanResultListActivity_result_unknown");
    if (this.p == null)
      this.p = new ArrayList();
    Bundle localBundle = getIntent().getExtras();
    this.u = localBundle.getLong("mScanUsedTime");
    long l1;
    boolean bool;
    label248: AppMettle localAppMettle;
    label326: bu localbu;
    if (this.u == 0L)
    {
      l1 = 1L;
      this.u = l1;
      this.v = localBundle.getString("mScanTime");
      this.w = localBundle.getInt("mScanApkCount");
      this.D = localBundle.getBoolean("bClickFast");
      this.E = localBundle.getBoolean("bClickDeep");
      this.F = localBundle.getBoolean("bSettingNet");
      this.G = localBundle.getBoolean("bScanFromMainMenu");
      this.H = localBundle.getBoolean("bCloudScanComplete");
      if (this.n.size() <= 0)
        break label486;
      bool = true;
      this.I = bool;
      this.y = this.n.size();
      this.t = new bx(this, this, this.n);
      this.t.a = 0;
      setListAdapter(this.t);
      this.C = com.keniu.security.a.a(this);
      this.r = new HashMap();
      Iterator localIterator = this.n.iterator();
      if (!localIterator.hasNext())
        break label549;
      localAppMettle = (AppMettle)localIterator.next();
      if (localAppMettle.c())
        this.z = (1 + this.z);
      this.s = new bu(this);
      if (!localAppMettle.b.w)
        break label492;
      this.s.a = "cloud";
      label399: if (!c(localAppMettle.a.publicSourceDir))
        break label532;
      this.s.d = 1;
      label421: this.s.c = 2;
      localbu = this.s;
      if (!this.J)
        break label543;
    }
    label532: label543: for (int i2 = 1; ; i2 = 0)
    {
      localbu.b = i2;
      this.s.e = 2;
      this.r.put(localAppMettle, this.s);
      break label326;
      l1 = this.u;
      break;
      label486: bool = false;
      break label248;
      label492: if (this.D)
      {
        this.s.a = "fast";
        break label399;
      }
      if (!this.E)
        break label399;
      this.s.a = "deep";
      break label399;
      this.s.d = 0;
      break label421;
    }
    label549: this.l = com.keniu.security.monitor.a.a();
  }

  private void b(int paramInt)
  {
    View localView = ((LayoutInflater)getSystemService("layout_inflater")).inflate(2130903141, null);
    TextView localTextView = (TextView)localView.findViewById(2131231144);
    switch (paramInt)
    {
    default:
    case 0:
    case 1:
    }
    while (true)
    {
      aq localaq = new aq(this, (byte)0);
      localaq.a(2131427865);
      localaq.b(localView);
      localaq.a(false);
      localaq.b(2131427864, new bj(this));
      localaq.c();
      localaq.d();
      return;
      y localy2 = new y(this);
      localy2.b = new SpannableString(localy2.a.getString(2131428553));
      localy2.h = new aa(localy2, true);
      localy2.b.setSpan(localy2.h, 8, 10, 17);
      localy2.b.setSpan(new ForegroundColorSpan(localy2.a.getResources().getColor(2131296283)), 8, 10, 17);
      localTextView.setText(localy2.b);
      localTextView.setMovementMethod(LinkMovementMethod.getInstance());
      continue;
      y localy1 = new y(this);
      localy1.b = new SpannableString(localy1.a.getString(2131428554));
      localy1.h = new aa(localy1, false);
      localy1.b.setSpan(localy1.h, 28, 32, 17);
      localy1.b.setSpan(new ForegroundColorSpan(localy1.a.getResources().getColor(2131296283)), 28, 32, 17);
      localTextView.setText(localy1.b);
      localTextView.setMovementMethod(LinkMovementMethod.getInstance());
    }
  }

  private void c()
  {
    this.U = ((Button)findViewById(2131231157));
    this.V = ((Button)findViewById(2131231158));
    this.W = ((Button)findViewById(2131231114));
    this.X = ((Button)findViewById(2131231106));
    this.Y = ((TextView)findViewById(2131231151));
    this.Z = ((TextView)findViewById(2131231152));
    this.aa = ((TextView)findViewById(2131231153));
    this.ab = ((TextView)findViewById(2131231154));
    this.ac = ((TextView)findViewById(2131231155));
    this.ad = ((ImageView)findViewById(2131231156));
  }

  private void c(int paramInt)
  {
    if (paramInt == 0);
    for (this.t.a = 0; ; this.t.a = (paramInt - 1))
    {
      this.B = (1 + this.B);
      ((bu)this.r.get(this.n.get(paramInt))).e = 3;
      this.n.remove(paramInt);
      Toast.makeText(this, "该病毒已被忽略", 0).show();
      j();
      return;
    }
  }

  private static boolean c(String paramString)
  {
    return Pattern.compile("/sdcard/").matcher(paramString).find();
  }

  private static String d(String paramString)
  {
    if (paramString.length() - 1 > 26);
    for (String str = paramString.substring(0, 26) + "..)"; ; str = paramString)
      return str;
  }

  private void d()
  {
    this.U.setOnClickListener(this);
    this.V.setOnClickListener(this);
    this.W.setOnClickListener(this);
    this.X.setOnClickListener(this);
    getListView().setOnItemClickListener(this);
    if (this.D)
      this.Y.setText(getString(2131428528));
    while (true)
    {
      return;
      if (this.E)
        this.Y.setText(getString(2131428529));
      else
        this.Y.setText(getString(2131428527));
    }
  }

  private void e()
  {
    boolean bool;
    if ((!this.I) && (!this.E) && (this.D))
    {
      bool = true;
      if (this.n.size() <= 0)
        break label90;
      this.ad.setVisibility(0);
      if (!this.H)
        break label76;
      a(2, 0, bool, this.I);
    }
    while (true)
    {
      if (this.F)
        af.b(this);
      return;
      bool = false;
      break;
      label76: a(2, 1, bool, this.I);
      continue;
      label90: this.ad.setVisibility(8);
      if ((this.G) || (this.H))
        a(1, 0, bool, this.I);
      else
        a(1, 1, bool, this.I);
    }
  }

  private void f()
  {
    this.m = new bv(this);
    IntentFilter localIntentFilter = new IntentFilter();
    localIntentFilter.addAction("android.intent.action.MY_WATCHERRECEIVER");
    registerReceiver(this.m, localIntentFilter);
  }

  private void g()
  {
    if ((this.y > 0) && (!this.ae))
    {
      bz.a();
      if (bz.b())
      {
        aq localaq = new aq(this, (byte)0);
        View localView = LayoutInflater.from(this).inflate(2130903097, null);
        CheckBox localCheckBox = (CheckBox)localView.findViewById(2131231005);
        localCheckBox.setChecked(false);
        localaq.a(getString(2131428763));
        TextView localTextView = (TextView)localView.findViewById(2131231003);
        SpannableString localSpannableString = new SpannableString(getString(2131428603));
        localSpannableString.setSpan(new bw(this), localSpannableString.length() - 5, localSpannableString.length() - 1, 17);
        localSpannableString.setSpan(new ForegroundColorSpan(getResources().getColor(2131296283)), localSpannableString.length() - 5, localSpannableString.length() - 1, 34);
        localTextView.setText(localSpannableString);
        localTextView.setMovementMethod(LinkMovementMethod.getInstance());
        localaq.a(localView);
        if (!this.C.A())
          break label230;
        localaq.b(getString(2131428764), new bt(this, localCheckBox));
        localaq.d();
      }
    }
    while (true)
    {
      return;
      label230: bz.a().c();
      this.l.a(com.keniu.security.monitor.a.x, this, 1073741823);
    }
  }

  private void h()
  {
    aq localaq = new aq(this, (byte)0);
    View localView = LayoutInflater.from(this).inflate(2130903097, null);
    CheckBox localCheckBox = (CheckBox)localView.findViewById(2131231005);
    localCheckBox.setChecked(false);
    localaq.a(getString(2131428763));
    TextView localTextView = (TextView)localView.findViewById(2131231003);
    SpannableString localSpannableString = new SpannableString(getString(2131428603));
    localSpannableString.setSpan(new bw(this), localSpannableString.length() - 5, localSpannableString.length() - 1, 17);
    localSpannableString.setSpan(new ForegroundColorSpan(getResources().getColor(2131296283)), localSpannableString.length() - 5, localSpannableString.length() - 1, 34);
    localTextView.setText(localSpannableString);
    localTextView.setMovementMethod(LinkMovementMethod.getInstance());
    localaq.a(localView);
    if (this.C.A())
    {
      localaq.b(getString(2131428764), new bt(this, localCheckBox));
      localaq.d();
    }
    while (true)
    {
      return;
      bz.a().c();
      this.l.a(com.keniu.security.monitor.a.x, this, 1073741823);
    }
  }

  private void i()
  {
    this.M = false;
    this.K = this.ae;
    this.x = 0;
    int i1 = this.n.size() - 1;
    AppMettle localAppMettle;
    ApplicationInfo localApplicationInfo;
    if (i1 >= 0)
    {
      localAppMettle = (AppMettle)this.n.get(i1);
      localApplicationInfo = localAppMettle.a;
      if (!c(localApplicationInfo.publicSourceDir));
    }
    while (true)
    {
      try
      {
        File localFile = new File(localApplicationInfo.publicSourceDir);
        if (!localFile.exists())
          break label667;
        if (localFile.delete())
        {
          ((bu)this.r.get(localAppMettle)).e = 1;
          bu localbu5 = (bu)this.r.get(localAppMettle);
          if (!this.K)
            break label673;
          i6 = 1;
          localbu5.c = i6;
          this.n.remove(i1);
          break label667;
        }
        ((bu)this.r.get(localAppMettle)).e = 0;
        bu localbu4 = (bu)this.r.get(localAppMettle);
        if (this.K)
        {
          i5 = 1;
          localbu4.c = i5;
          continue;
        }
      }
      catch (Exception localException)
      {
      }
      int i5 = 0;
      continue;
      if ((this.J) && (!this.M))
      {
        if (this.K)
        {
          if (a(localAppMettle))
          {
            bz.a().f();
            bz.a().b(localApplicationInfo.publicSourceDir);
            bz.a().a(localApplicationInfo.packageName);
            this.n.remove(i1);
            ((bu)this.r.get(localAppMettle)).e = 1;
            bu localbu3 = (bu)this.r.get(localAppMettle);
            if (this.K);
            for (int i4 = 1; ; i4 = 0)
            {
              localbu3.c = i4;
              break;
            }
          }
          Intent localIntent3 = new Intent("android.intent.action.DELETE");
          localIntent3.setData(Uri.parse("package:" + localApplicationInfo.packageName));
          startActivityForResult(localIntent3, 1);
          this.x = (1 + this.x);
        }
        else
        {
          if (localAppMettle.c())
          {
            ((bu)this.r.get(localAppMettle)).e = 0;
            bu localbu2 = (bu)this.r.get(localAppMettle);
            if (this.K);
            for (int i3 = 1; ; i3 = 0)
            {
              localbu2.c = i3;
              this.L = true;
              this.M = this.L;
              break;
            }
          }
          this.M = true;
          Intent localIntent2 = new Intent("android.intent.action.DELETE");
          localIntent2.setData(Uri.parse("package:" + localApplicationInfo.packageName));
          startActivityForResult(localIntent2, 1);
          this.x = (1 + this.x);
        }
      }
      else
      {
        if (localAppMettle.c())
        {
          ((bu)this.r.get(localAppMettle)).e = 0;
          bu localbu1 = (bu)this.r.get(localAppMettle);
          if (this.K);
          for (int i2 = 1; ; i2 = 0)
          {
            localbu1.c = i2;
            this.L = true;
            break;
          }
        }
        Intent localIntent1 = new Intent("android.intent.action.DELETE");
        localIntent1.setData(Uri.parse("package:" + localApplicationInfo.packageName));
        startActivityForResult(localIntent1, 1);
        this.x = (1 + this.x);
        break label667;
        if (this.x == 0)
          j();
        return;
      }
      label667: i1--;
      break;
      label673: int i6 = 0;
    }
  }

  private void j()
  {
    this.t.notifyDataSetChanged();
    if (this.n.size() == 0)
    {
      this.ad.setVisibility(8);
      a(3, 2, false, false);
    }
    while (true)
    {
      return;
      this.ad.setVisibility(0);
      if (this.L)
      {
        if ((this.N) && (!this.Q))
        {
          if (this.J)
            a(3, 3, false, true);
          else
            a(3, 4, false, true);
        }
        else
          a(3, 0, false, true);
      }
      else if ((this.N) && (!this.Q))
        a(3, 3, false, true);
      else
        a(3, 0, false, true);
    }
  }

  private void k()
  {
    this.q = new ArrayList();
    if (!at.b(this));
    while (true)
    {
      return;
      int i1;
      long l1;
      int i2;
      label36: AppMettle localAppMettle;
      long l2;
      if (this.n.size() != 0)
      {
        i1 = 5;
        l1 = 0L;
        i2 = 0;
        if (i2 >= this.p.size())
          break label160;
        localAppMettle = (AppMettle)this.p.get(i2);
        if ((localAppMettle != null) && (localAppMettle.a != null))
        {
          d locald = localAppMettle.b;
          if ((locald != null) && (locald.s == 3) && (locald.v != null))
          {
            l2 = l1 + localAppMettle.d;
            if (l2 < 5242880L)
              break label133;
          }
        }
      }
      while (true)
      {
        i2++;
        break label36;
        i1 = 3;
        break;
        label133: this.q.add(localAppMettle);
        if (this.q.size() >= i1)
          break label160;
        l1 = l2;
      }
      label160: if (this.q.size() != 0)
        if (this.C.aK())
        {
          this.R = false;
          this.S = false;
          new bk(this).start();
        }
        else if (this.n.size() <= 0)
        {
          this.R = true;
          this.S = true;
          showDialog(10);
        }
    }
  }

  private Dialog l()
  {
    aq localaq = new aq(this, (byte)0);
    localaq.a(2131427519);
    View localView = LayoutInflater.from(this).inflate(2130903097, null);
    CheckBox localCheckBox = (CheckBox)localView.findViewById(2131231005);
    localCheckBox.setChecked(true);
    localCheckBox.setText(2131428522);
    TextView localTextView = (TextView)localView.findViewById(2131231003);
    y localy = new y(this, this.q);
    localy.b = new SpannableString(localy.a.getString(2131428521));
    localy.e = new ae(localy);
    localy.b.setSpan(localy.e, 8, 10, 17);
    localy.b.setSpan(new ForegroundColorSpan(localy.a.getResources().getColor(2131296283)), 8, 10, 17);
    localTextView.setText(localy.b);
    localTextView.setMovementMethod(LinkMovementMethod.getInstance());
    localaq.a(localView);
    localaq.b(2131427542, new bm(this, localCheckBox));
    localaq.a(2131428594, new bn(this, localCheckBox));
    return localaq.c();
  }

  private void m()
  {
    Intent localIntent = new Intent();
    localIntent.putParcelableArrayListExtra("ScanResultListActivity_result_trojan", this.n);
    setResult(-1, localIntent);
    if (this.w < this.y)
      this.w = this.y;
    com.keniu.security.main.bu.a(System.currentTimeMillis(), this.w, this.y, this.y - this.n.size(), this.n.size());
  }

  private void n()
  {
    r localr = new r(this);
    for (int i1 = 0; i1 < this.o.size(); i1++)
    {
      AppMettle localAppMettle = (AppMettle)this.o.get(i1);
      if (!this.n.contains(localAppMettle))
        localr.b(localAppMettle.a.publicSourceDir);
    }
    localr.a();
  }

  private void o()
  {
    if (this.v != null)
    {
      r localr = new r(this);
      int i1 = this.q.size();
      int i2 = 0;
      Object localObject = "";
      if (i2 < i1)
      {
        AppMettle localAppMettle = (AppMettle)this.q.get(i2);
        ApplicationInfo localApplicationInfo = localAppMettle.a;
        if (i2 != i1 - 1);
        for (String str = (String)localObject + localApplicationInfo.packageName + ">" + localApplicationInfo.publicSourceDir + ">" + localAppMettle.b.t + ">" + localAppMettle.b.q + ":"; ; str = (String)localObject + localApplicationInfo.packageName + ">" + localApplicationInfo.publicSourceDir + ">" + localAppMettle.b.t + ">" + localAppMettle.b.q)
        {
          i2++;
          localObject = str;
          break;
        }
      }
      localr.a(String.valueOf(this.q.size()), String.valueOf(this.y - this.n.size() - this.B), (String)localObject, this.v);
      localr.a();
    }
  }

  private void p()
  {
    new bs(this).start();
  }

  public final int a(int paramInt, Object paramObject1, Object paramObject2)
  {
    if (paramInt == com.keniu.security.monitor.a.x)
      this.ae = ((Boolean)paramObject1).booleanValue();
    return 0;
  }

  public final void a()
  {
    aq localaq = new aq(this, (byte)0);
    localaq.a(2131427519);
    View localView = LayoutInflater.from(this).inflate(2130903097, null);
    CheckBox localCheckBox = (CheckBox)localView.findViewById(2131231005);
    localCheckBox.setChecked(false);
    localCheckBox.setText(2131428524);
    ((TextView)localView.findViewById(2131231003)).setText(2131428523);
    localaq.a(localView);
    localaq.a(2131427880, new bq(this, localCheckBox));
    localaq.b(2131427881, new br(this, localCheckBox));
    localaq.c().show();
  }

  protected void onActivityResult(int paramInt1, int paramInt2, Intent paramIntent)
  {
    if ((paramInt1 == 10) && (paramInt2 == -1))
      removeDialog(10);
    AppMettle localAppMettle2;
    ApplicationInfo localApplicationInfo2;
    if (paramInt1 == 0)
    {
      this.x -= 1;
      if (this.x == 0)
      {
        localAppMettle2 = (AppMettle)this.n.get(this.A);
        localApplicationInfo2 = localAppMettle2.a;
      }
    }
    try
    {
      getPackageManager().getPackageInfo(localApplicationInfo2.packageName, 256);
      ((bu)this.r.get(localAppMettle2)).e = 0;
      bu localbu4 = (bu)this.r.get(localAppMettle2);
      if (this.K)
      {
        i5 = 1;
        localbu4.c = i5;
        this.t.a = this.A;
        b(0);
        j();
        if (paramInt1 != 1)
          return;
        this.x -= 1;
        if (this.x != 0)
          return;
        i1 = this.n.size() - 1;
        label177: if (i1 < 0)
          break label432;
        localAppMettle1 = (AppMettle)this.n.get(i1);
        localApplicationInfo1 = localAppMettle1.a;
      }
    }
    catch (PackageManager.NameNotFoundException localNameNotFoundException2)
    {
      int i1;
      bu localbu1;
      try
      {
        int i5;
        ApplicationInfo localApplicationInfo1;
        getPackageManager().getPackageInfo(localApplicationInfo1.packageName, 256);
        ((bu)this.r.get(localAppMettle1)).e = 0;
        bu localbu2 = (bu)this.r.get(localAppMettle1);
        if (this.K);
        for (int i3 = 1; ; i3 = 0)
        {
          localbu2.c = i3;
          i1--;
          break label177;
          i5 = 0;
          break;
          localNameNotFoundException2 = localNameNotFoundException2;
          ((bu)this.r.get(localAppMettle2)).e = 1;
          bu localbu3 = (bu)this.r.get(localAppMettle2);
          if (this.K);
          for (int i4 = 1; ; i4 = 0)
          {
            localbu3.c = i4;
            this.n.remove(this.A);
            Toast.makeText(this, 2131428544, 0).show();
            break;
          }
        }
      }
      catch (PackageManager.NameNotFoundException localNameNotFoundException1)
      {
        AppMettle localAppMettle1;
        ((bu)this.r.get(localAppMettle1)).e = 1;
        localbu1 = (bu)this.r.get(localAppMettle1);
        if (!this.K);
      }
      for (int i2 = 1; ; i2 = 0)
      {
        localbu1.c = i2;
        this.n.remove(i1);
        break;
      }
      label432: j();
    }
  }

  public void onClick(View paramView)
  {
    if (paramView.getId() == 2131231157)
      if (com.keniu.security.util.ab.a())
      {
        com.jxphone.mosecurity.a.a.b(this, "virkill_interface_click", "inner_deep");
        Intent localIntent2 = new Intent(this, MalwareActivity.class);
        localIntent2.putExtra("MalwareActivityScanMode", 1);
        startActivity(localIntent2);
        finish();
      }
    while (true)
    {
      return;
      Toast.makeText(this, 2131428589, 1).show();
      continue;
      if (paramView.getId() == 2131231106)
      {
        Intent localIntent1 = new Intent();
        localIntent1.setClass(this, FileWatcherSetting.class);
        startActivity(localIntent1);
      }
      else if (paramView.getId() == 2131231158)
      {
        com.jxphone.mosecurity.a.a.b(this, "virkill_interface_click", "clear_all");
        this.N = true;
        this.Q = false;
        i();
      }
      else if (paramView.getId() == 2131231114)
      {
        m();
        n();
        finish();
      }
    }
  }

  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    setRequestedOrientation(1);
    requestWindowFeature(1);
    setContentView(2130903143);
    if (paramBundle == null)
    {
      com.jxphone.mosecurity.a.a.b(this, "virkill_interface_click", "res_show");
      com.jxphone.mosecurity.a.a.a(this, 0, this.y - this.z);
      com.jxphone.mosecurity.a.a.a(this, 1, this.z);
      com.jxphone.mosecurity.a.a.a(this, 2, this.y);
    }
    bz.a();
    this.J = bz.b();
    this.n = getIntent().getParcelableArrayListExtra("ScanResultListActivity_result_trojan");
    if (this.n == null)
      this.n = new ArrayList();
    this.o = new ArrayList();
    for (int i1 = 0; i1 < this.n.size(); i1++)
      this.o.add(this.n.get(i1));
    this.p = getIntent().getParcelableArrayListExtra("ScanResultListActivity_result_unknown");
    if (this.p == null)
      this.p = new ArrayList();
    Bundle localBundle = getIntent().getExtras();
    this.u = localBundle.getLong("mScanUsedTime");
    long l1;
    boolean bool1;
    label329: AppMettle localAppMettle;
    label407: label480: label502: bu localbu;
    if (this.u == 0L)
    {
      l1 = 1L;
      this.u = l1;
      this.v = localBundle.getString("mScanTime");
      this.w = localBundle.getInt("mScanApkCount");
      this.D = localBundle.getBoolean("bClickFast");
      this.E = localBundle.getBoolean("bClickDeep");
      this.F = localBundle.getBoolean("bSettingNet");
      this.G = localBundle.getBoolean("bScanFromMainMenu");
      this.H = localBundle.getBoolean("bCloudScanComplete");
      if (this.n.size() <= 0)
        break label567;
      bool1 = true;
      this.I = bool1;
      this.y = this.n.size();
      this.t = new bx(this, this, this.n);
      this.t.a = 0;
      setListAdapter(this.t);
      this.C = com.keniu.security.a.a(this);
      this.r = new HashMap();
      Iterator localIterator = this.n.iterator();
      if (!localIterator.hasNext())
        break label630;
      localAppMettle = (AppMettle)localIterator.next();
      if (localAppMettle.c())
        this.z = (1 + this.z);
      this.s = new bu(this);
      if (!localAppMettle.b.w)
        break label573;
      this.s.a = "cloud";
      if (!c(localAppMettle.a.publicSourceDir))
        break label613;
      this.s.d = 1;
      this.s.c = 2;
      localbu = this.s;
      if (!this.J)
        break label624;
    }
    label567: label573: label613: label624: for (int i2 = 1; ; i2 = 0)
    {
      localbu.b = i2;
      this.s.e = 2;
      this.r.put(localAppMettle, this.s);
      break label407;
      l1 = this.u;
      break;
      bool1 = false;
      break label329;
      if (this.D)
      {
        this.s.a = "fast";
        break label480;
      }
      if (!this.E)
        break label480;
      this.s.a = "deep";
      break label480;
      this.s.d = 0;
      break label502;
    }
    label630: this.l = com.keniu.security.monitor.a.a();
    this.U = ((Button)findViewById(2131231157));
    this.V = ((Button)findViewById(2131231158));
    this.W = ((Button)findViewById(2131231114));
    this.X = ((Button)findViewById(2131231106));
    this.Y = ((TextView)findViewById(2131231151));
    this.Z = ((TextView)findViewById(2131231152));
    this.aa = ((TextView)findViewById(2131231153));
    this.ab = ((TextView)findViewById(2131231154));
    this.ac = ((TextView)findViewById(2131231155));
    this.ad = ((ImageView)findViewById(2131231156));
    this.U.setOnClickListener(this);
    this.V.setOnClickListener(this);
    this.W.setOnClickListener(this);
    this.X.setOnClickListener(this);
    getListView().setOnItemClickListener(this);
    boolean bool2;
    if (this.D)
    {
      this.Y.setText(getString(2131428528));
      k();
      if ((this.I) || (this.E) || (!this.D))
        break label1234;
      bool2 = true;
      label866: if (this.n.size() <= 0)
        break label1255;
      this.ad.setVisibility(0);
      if (!this.H)
        break label1240;
      a(2, 0, bool2, this.I);
      label903: if (this.F)
        af.b(this);
      this.m = new bv(this);
      IntentFilter localIntentFilter = new IntentFilter();
      localIntentFilter.addAction("android.intent.action.MY_WATCHERRECEIVER");
      registerReceiver(this.m, localIntentFilter);
      if ((this.y > 0) && (!this.ae))
      {
        bz.a();
        if (bz.b())
        {
          aq localaq = new aq(this, (byte)0);
          View localView = LayoutInflater.from(this).inflate(2130903097, null);
          CheckBox localCheckBox = (CheckBox)localView.findViewById(2131231005);
          localCheckBox.setChecked(false);
          localaq.a(getString(2131428763));
          TextView localTextView = (TextView)localView.findViewById(2131231003);
          SpannableString localSpannableString = new SpannableString(getString(2131428603));
          localSpannableString.setSpan(new bw(this), localSpannableString.length() - 5, localSpannableString.length() - 1, 17);
          localSpannableString.setSpan(new ForegroundColorSpan(getResources().getColor(2131296283)), localSpannableString.length() - 5, localSpannableString.length() - 1, 34);
          localTextView.setText(localSpannableString);
          localTextView.setMovementMethod(LinkMovementMethod.getInstance());
          localaq.a(localView);
          if (!this.C.A())
            break label1308;
          localaq.b(getString(2131428764), new bt(this, localCheckBox));
          localaq.d();
        }
      }
    }
    while (true)
    {
      return;
      if (this.E)
      {
        this.Y.setText(getString(2131428529));
        break;
      }
      this.Y.setText(getString(2131428527));
      break;
      label1234: bool2 = false;
      break label866;
      label1240: a(2, 1, bool2, this.I);
      break label903;
      label1255: this.ad.setVisibility(8);
      if ((this.G) || (this.H))
      {
        a(1, 0, bool2, this.I);
        break label903;
      }
      a(1, 1, bool2, this.I);
      break label903;
      label1308: bz.a().c();
      this.l.a(com.keniu.security.monitor.a.x, this, 1073741823);
    }
  }

  protected Dialog onCreateDialog(int paramInt)
  {
    aq localaq;
    if (paramInt == 10)
    {
      localaq = new aq(this, (byte)0);
      localaq.a(2131427519);
      View localView = LayoutInflater.from(this).inflate(2130903097, null);
      CheckBox localCheckBox = (CheckBox)localView.findViewById(2131231005);
      localCheckBox.setChecked(true);
      localCheckBox.setText(2131428522);
      TextView localTextView = (TextView)localView.findViewById(2131231003);
      y localy = new y(this, this.q);
      localy.b = new SpannableString(localy.a.getString(2131428521));
      localy.e = new ae(localy);
      localy.b.setSpan(localy.e, 8, 10, 17);
      localy.b.setSpan(new ForegroundColorSpan(localy.a.getResources().getColor(2131296283)), 8, 10, 17);
      localTextView.setText(localy.b);
      localTextView.setMovementMethod(LinkMovementMethod.getInstance());
      localaq.a(localView);
      localaq.b(2131427542, new bm(this, localCheckBox));
      localaq.a(2131428594, new bn(this, localCheckBox));
    }
    for (Object localObject = localaq.c(); ; localObject = super.onCreateDialog(paramInt))
      return localObject;
  }

  protected void onDestroy()
  {
    super.onDestroy();
    bz.a().g();
    if (this.v != null)
    {
      r localr = new r(this);
      int i1 = this.q.size();
      int i2 = 0;
      Object localObject = "";
      if (i2 < i1)
      {
        AppMettle localAppMettle = (AppMettle)this.q.get(i2);
        ApplicationInfo localApplicationInfo = localAppMettle.a;
        if (i2 != i1 - 1);
        for (String str = (String)localObject + localApplicationInfo.packageName + ">" + localApplicationInfo.publicSourceDir + ">" + localAppMettle.b.t + ">" + localAppMettle.b.q + ":"; ; str = (String)localObject + localApplicationInfo.packageName + ">" + localApplicationInfo.publicSourceDir + ">" + localAppMettle.b.t + ">" + localAppMettle.b.q)
        {
          i2++;
          localObject = str;
          break;
        }
      }
      localr.a(String.valueOf(this.q.size()), String.valueOf(this.y - this.n.size() - this.B), (String)localObject, this.v);
      localr.a();
    }
    new bs(this).start();
    n();
    this.l.a(com.keniu.security.monitor.a.x);
  }

  public void onItemClick(AdapterView paramAdapterView, View paramView, int paramInt, long paramLong)
  {
    if (this.t.a == paramInt);
    for (this.t.a = -1; ; this.t.a = paramInt)
    {
      this.t.notifyDataSetChanged();
      return;
    }
  }

  public boolean onKeyDown(int paramInt, KeyEvent paramKeyEvent)
  {
    if (paramInt == 4)
    {
      m();
      n();
    }
    return super.onKeyDown(paramInt, paramKeyEvent);
  }
}

/* Location:           C:\Users\sandrocheng.21KUNPENG\Desktop\classes_dex2jar\
 * Qualified Name:     com.keniu.security.malware.ScanResultListActivity
 * JD-Core Version:    0.6.2
 */