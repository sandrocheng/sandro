package com.keniu.security.malware;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.content.res.Resources;
import android.os.Bundle;
import android.text.SpannableString;
import android.text.method.LinkMovementMethod;
import android.text.style.ForegroundColorSpan;
import android.view.View;
import android.view.View.OnClickListener;
import android.widget.AdapterView;
import android.widget.AdapterView.OnItemClickListener;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.ListView;
import android.widget.TextView;
import android.widget.Toast;
import com.keniu.security.commumgr.FileWatcherSetting;
import com.keniu.security.f.w;
import com.keniu.security.monitor.b;
import com.keniu.security.util.ab;
import com.keniu.security.util.ap;
import com.keniu.security.util.aq;
import com.keniu.security.util.at;
import java.text.SimpleDateFormat;
import java.util.Date;

public class MalwareMainActivity extends Activity
  implements View.OnClickListener, AdapterView.OnItemClickListener, b
{
  private static final int a = 100;
  private static final int b = 101;
  private static final int c = 102;
  private ListView d;
  private TextView e;
  private TextView f;
  private Button g;
  private Button h;
  private ImageView i;
  private aj j;
  private com.keniu.security.a k;
  private q l;
  private int m;
  private int n;
  private com.keniu.security.g.a o = null;

  private void a()
  {
    this.k = com.keniu.security.a.a(this);
    this.l = new q(this);
    this.n = this.l.c();
    this.j = new aj(this, this.n);
  }

  private void b()
  {
    this.d = ((ListView)findViewById(2131231150));
    this.e = ((TextView)findViewById(2131231146));
    this.f = ((TextView)findViewById(2131231147));
    this.g = ((Button)findViewById(2131231106));
    this.h = ((Button)findViewById(2131231149));
    this.i = ((ImageView)findViewById(2131231145));
  }

  private void c()
  {
    this.m = this.l.a();
    if ((this.m == 0) && (this.k.T()))
    {
      this.i.setImageDrawable(getResources().getDrawable(2130837863));
      this.e.setVisibility(8);
      this.f.setText(getString(2131428490));
    }
    while (true)
    {
      this.d.setAdapter(this.j);
      this.d.setOnItemClickListener(this);
      this.g.setOnClickListener(this);
      this.h.setOnClickListener(this);
      return;
      if (this.m == 0)
      {
        this.i.setImageDrawable(getResources().getDrawable(2130837858));
        this.e.setVisibility(0);
        d();
        this.f.setText(getString(2131428491));
      }
      else
      {
        this.i.setImageDrawable(getResources().getDrawable(2130837862));
        this.e.setVisibility(0);
        d();
        TextView localTextView = this.f;
        y localy = new y(this);
        int i1 = this.m;
        Context localContext = localy.a;
        Object[] arrayOfObject = new Object[1];
        arrayOfObject[0] = Integer.valueOf(i1);
        String str = localContext.getString(2131428492, arrayOfObject);
        int i2 = str.length();
        localy.b = new SpannableString(str);
        localy.c = new ad(localy);
        localy.b.setSpan(localy.c, 0, i2, 17);
        localy.b.setSpan(new ForegroundColorSpan(localy.a.getResources().getColor(2131296278)), 0, i2, 17);
        localTextView.setText(localy.b);
        this.f.setMovementMethod(LinkMovementMethod.getInstance());
      }
    }
  }

  private void d()
  {
    long l1 = y.a(new SimpleDateFormat("yyyy-MM-dd").format(new Date()), this.k.aQ());
    if (l1 > 0L)
    {
      TextView localTextView = this.e;
      Object[] arrayOfObject = new Object[1];
      arrayOfObject[0] = Long.valueOf(l1);
      localTextView.setText(getString(2131428495, arrayOfObject));
    }
    while (true)
    {
      return;
      this.e.setText(getString(2131428494));
    }
  }

  private void e()
  {
    if (!at.c(this))
    {
      aq localaq = new aq(this, (byte)0);
      localaq.a(getString(2131427865));
      localaq.b(getString(2131428373));
      localaq.a(getString(2131428402), new s(this));
      localaq.b(getString(2131428398), null);
      localaq.c().show();
    }
    while (true)
    {
      return;
      if (this.o == null)
        this.o = new com.keniu.security.g.a(this, true);
      this.o.a();
      com.keniu.security.monitor.a.a().a(com.keniu.security.monitor.a.q, this, 1342177279);
    }
  }

  public final int a(int paramInt, Object paramObject1, Object paramObject2)
  {
    if ((paramInt == com.keniu.security.monitor.a.q) && (((Integer)paramObject1).intValue() == 3) && (((w)paramObject2).i() == 8))
      runOnUiThread(new t(this));
    return 0;
  }

  protected void onActivityResult(int paramInt1, int paramInt2, Intent paramIntent)
  {
    super.onActivityResult(paramInt1, paramInt2, paramIntent);
    this.n = this.l.c();
    if (paramInt1 == 100)
      if (paramInt2 != 10)
        break label91;
    label91: for (this.j = new aj(this, this.n); ; this.j = new aj(this, 1 + this.n))
    {
      if (paramInt1 == 101)
        this.j = new aj(this, this.n);
      if (paramInt1 == 102)
        this.j = new aj(this, this.n);
      return;
    }
  }

  public void onClick(View paramView)
  {
    switch (paramView.getId())
    {
    default:
    case 2131231106:
    case 2131231149:
    }
    while (true)
    {
      return;
      Intent localIntent2 = new Intent();
      localIntent2.setClass(this, FileWatcherSetting.class);
      startActivityForResult(localIntent2, 102);
      continue;
      com.jxphone.mosecurity.a.a.b(this, "virkill_interface_click", "fast");
      Intent localIntent1 = new Intent(this, MalwareActivity.class);
      localIntent1.putExtra("MalwareActivityScanMode", 0);
      startActivityForResult(localIntent1, 100);
    }
  }

  protected void onCreate(Bundle paramBundle)
  {
    super.onCreate(paramBundle);
    if (paramBundle == null)
      com.jxphone.mosecurity.a.a.i(this, "virkill");
    setRequestedOrientation(1);
    requestWindowFeature(1);
    setContentView(2130903142);
    this.k = com.keniu.security.a.a(this);
    this.l = new q(this);
    this.n = this.l.c();
    this.j = new aj(this, this.n);
    this.d = ((ListView)findViewById(2131231150));
    this.e = ((TextView)findViewById(2131231146));
    this.f = ((TextView)findViewById(2131231147));
    this.g = ((Button)findViewById(2131231106));
    this.h = ((Button)findViewById(2131231149));
    this.i = ((ImageView)findViewById(2131231145));
    c();
  }

  protected void onDestroy()
  {
    if (this.o != null)
    {
      this.o.b();
      this.o = null;
      com.keniu.security.monitor.a.a().a(com.keniu.security.monitor.a.q, this);
    }
    super.onDestroy();
  }

  public void onItemClick(AdapterView paramAdapterView, View paramView, int paramInt, long paramLong)
  {
    switch (paramInt)
    {
    default:
    case 0:
    case 1:
    case 2:
    }
    while (true)
    {
      return;
      if (ab.a())
      {
        com.jxphone.mosecurity.a.a.b(this, "virkill_interface_click", "deep");
        Intent localIntent = new Intent(this, MalwareActivity.class);
        localIntent.putExtra("MalwareActivityScanMode", 1);
        startActivityForResult(localIntent, 100);
      }
      else
      {
        Toast.makeText(this, 2131428589, 1).show();
        continue;
        if (!at.c(this))
        {
          aq localaq = new aq(this, (byte)0);
          localaq.a(getString(2131427865));
          localaq.b(getString(2131428373));
          localaq.a(getString(2131428402), new s(this));
          localaq.b(getString(2131428398), null);
          localaq.c().show();
        }
        else
        {
          if (this.o == null)
            this.o = new com.keniu.security.g.a(this, true);
          this.o.a();
          com.keniu.security.monitor.a.a().a(com.keniu.security.monitor.a.q, this, 1342177279);
          continue;
          com.jxphone.mosecurity.a.a.b(this, "virkill_interface_click", "record");
          startActivityForResult(new Intent(this, MalwareScanRecordActivity.class), 101);
        }
      }
    }
  }

  protected void onResume()
  {
    super.onResume();
    c();
  }
}

/* Location:           C:\Users\sandrocheng.21KUNPENG\Desktop\classes_dex2jar\
 * Qualified Name:     com.keniu.security.malware.MalwareMainActivity
 * JD-Core Version:    0.6.2
 */