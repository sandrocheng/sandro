1、守护进程
	Daemon进程,是linux的后台服务进程，通常独立于控制终端并且周期性地执行某种任务或等待处理某些发生的事件。一般参用以d结尾的名字，如vsftpd。
	linux后台的一些系统服务进程，没有控制终端，不能直接和用户交互。不受用户登陆、注销的影响，一直在运行着，他们都是守护进程。如：预读入缓输出的机制;ftp服务器；nfs服务器等。
	守护进程特点：
		linux后台服务进程
		独立于控制终端
		周期性的执行某种任务
		不受用户登陆和注销的影响
		一般采用以d结尾的名字

2、进程组和会话
	进程组：
		a)进程组是一个或者多个进程的集合，每个进程都属于一个进程组，引入进程组是为了简化对进程的管理。当父进程创建子进程的时候，默认子进程与父进程属于同一个进程组。
		  进程组ID==第一个进程ID(组长进程)。如父进程创建了多个子进程，父进程和多个子进程属于同一个组，二父进程是进程组里第一个进程，所以父进程就是这个组的组长，组长ID==父进程ID。
		b)可以使用kill -SIGKILL 进程组ID(负数)来将整个进程组内的所有进程杀死。
		c)只要进程组中有一个进程存在，进程组就存在，与组长进程是否终止无关。
		d)进程组生存周期：从进程组创建到最有一个进程离开。

	会话：
		a)一个会话是一个或多个进程组的组合
		b)创建会话的进程不能是进程组组长
		c)创建会话的进程成为一个进程组的组长进程，同时也成为会话的会长。
		d)需要有root权限(ubuntu不需要)
		e)新创建的会话丢弃原有的控制终端
		f)建立会话时，先调用fork，父进程终止，子进程调用setsid函数
	
	使用ps ajx来查看进程组ID和会话ID
		可以fork出几个子进程，然后查看进程组ID和会话ID。

3、创建守护进程
	1)fork子进程，父进程退出
		子进程继承了父进程进程组ID，但是具有一个新的进程ID，这样就保证了子进程不是一个进程组的组长ID，这对于下面要做的setid函数调用是必要的前提条件
	2)子进程调用setsid函数创建新会话，调用这个函数之后
		该进程成为新会话的首进程，是会话的会长
		成为了一个新进程组的组长进程，
		不受终端控制的影响。
	3)改变当前工作目录(当前进程是在哪个目录下启动的，这个目录就是当前进程的工作目录)chdir
		如：a.out在U盘上，启动这个程序，这个程序的当前工作目录就是这个U盘，如果U盘被拔掉，进程的当前工作目录将消失，a.out将不能正常工作。
	4)重设文件掩码 mode&~umask
		子进程会继承父进程的掩码
		增加子进程程序操作的灵活性
		umask(0000)
	5)关闭文件描述符
		守护进程不受控制终端的影响所以可以关闭，以释放资源
		close(STDIN_FILENO);
		close(STDOUT_FILENO);
		close(STDERR_FILENO);			
		
	6)执行核心操作
		守护进程的核心代码
